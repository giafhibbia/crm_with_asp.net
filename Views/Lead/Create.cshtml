@model MyAuthDemo.Models.Lead
@{
    var isEdit = Model?.Id > 0;
    ViewBag.Title = isEdit ? "Edit Lead" : "Create Lead";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}

<h1 class="text-3xl font-bold mb-6">@ViewBag.Title</h1>

<form asp-action="@(isEdit ? "Edit" : "Create")" method="post" class="space-y-4 max-w-2xl">
    @if(isEdit)
    {
        <input type="hidden" asp-for="Id" />
    }

    <label class="block">
        <span class="text-gray-700 font-semibold">Group</span>
        <select asp-for="GroupId" class="mt-1 block w-full rounded border-gray-300 shadow-sm">
            <option value="">-- Select Group --</option>
            @foreach (var g in ViewBag.Groups)
            {
                <option value="@g.Id" selected="@(Model.GroupId == g.Id ? "selected" : "")">@g.Name</option>
            }
        </select>
        <span asp-validation-for="GroupId" class="text-red-600"></span>
    </label>

    <label class="block">
        <span class="text-gray-700 font-semibold">City</span>
        <input asp-for="City" class="mt-1 block w-full rounded border-gray-300 shadow-sm" />
        <span asp-validation-for="City" class="text-red-600"></span>
    </label>

    <label class="block">
        <span class="text-gray-700 font-semibold">Address</span>
        <input asp-for="Address" class="mt-1 block w-full rounded border-gray-300 shadow-sm" />
        <span asp-validation-for="Address" class="text-red-600"></span>
    </label>

    <label class="block">
        <span class="text-gray-700 font-semibold">Phone</span>
        <input asp-for="Phone" class="mt-1 block w-full rounded border-gray-300 shadow-sm" />
        <span asp-validation-for="Phone" class="text-red-600"></span>
    </label>

    <label class="block">
        <span class="text-gray-700 font-semibold">Email</span>
        <input asp-for="Email" class="mt-1 block w-full rounded border-gray-300 shadow-sm" />
        <span asp-validation-for="Email" class="text-red-600"></span>
    </label>

    <label class="block">
        <span class="text-gray-700 font-semibold">Contract Number</span>
        <input asp-for="ContractNumber" class="mt-1 block w-full rounded border-gray-300 shadow-sm" />
        <span asp-validation-for="ContractNumber" class="text-red-600"></span>
    </label>

    <label class="block">
        <span class="text-gray-700 font-semibold">Contract Status</span>
        <input asp-for="ContractStatus" class="mt-1 block w-full rounded border-gray-300 shadow-sm" />
        <span asp-validation-for="ContractStatus" class="text-red-600"></span>
    </label>

    <label class="block">
        <span class="text-gray-700 font-semibold">PIC Name</span>
        <input asp-for="PICName" class="mt-1 block w-full rounded border-gray-300 shadow-sm" />
        <span asp-validation-for="PICName" class="text-red-600"></span>
    </label>

    <label class="block">
        <span class="text-gray-700 font-semibold">PIC Phone</span>
        <input asp-for="PICPhone" class="mt-1 block w-full rounded border-gray-300 shadow-sm" />
        <span asp-validation-for="PICPhone" class="text-red-600"></span>
    </label>

    <label class="block">
        <span class="text-gray-700 font-semibold">PIC Email</span>
        <input asp-for="PICEmail" class="mt-1 block w-full rounded border-gray-300 shadow-sm" />
        <span asp-validation-for="PICEmail" class="text-red-600"></span>
    </label>

    <label class="block">
        <span class="text-gray-700 font-semibold">Referral Name</span>
        <input asp-for="ReferralName" class="mt-1 block w-full rounded border-gray-300 shadow-sm" />
        <span asp-validation-for="ReferralName" class="text-red-600"></span>
    </label>

    <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">
        @if (isEdit) { <text>Update</text> } else { <text>Create</text> }
    </button>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
