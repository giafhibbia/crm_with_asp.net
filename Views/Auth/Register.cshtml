@model MyAuthDemo.Models.RegisterViewModel

<div class="max-w-md mx-auto mt-10 p-6 bg-white rounded shadow-md">
    <h2 class="text-2xl font-semibold mb-6 text-center">Register</h2>

    <form asp-action="Register" method="post" enctype="multipart/form-data" class="space-y-4">
        <div>
            <input asp-for="Name" placeholder="Nama lengkap" 
                class="w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" />
            <span asp-validation-for="Name" class="text-red-600 text-sm"></span>
        </div>

        <div>
            <input asp-for="Email" placeholder="Email" type="email"
                class="w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" />
            <span asp-validation-for="Email" class="text-red-600 text-sm"></span>
        </div>

        <div>
            <input asp-for="Password" placeholder="Password" type="password" 
                class="w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" />
            <span asp-validation-for="Password" class="text-red-600 text-sm"></span>
        </div>

        <div>
            <select asp-for="PositionId" 
                class="w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
                <option value="">Pilih Jabatan</option>
                @foreach (var p in (dynamic)ViewBag.Positions) {
                    <option value="@p.Id">@p.Name</option>
                }
            </select>
            <span asp-validation-for="PositionId" class="text-red-600 text-sm"></span>
        </div>

        <div>
            <select asp-for="RoleId" 
                class="w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
                <option value="">Pilih Role</option>
                @foreach (var r in (dynamic)ViewBag.Roles) {
                    <option value="@r.Id">@r.Name</option>
                }
            </select>
            <span asp-validation-for="RoleId" class="text-red-600 text-sm"></span>
        </div>

        <div>
            <label class="block mb-1 font-medium" for="Avatar">Avatar (opsional)</label>
            <input asp-for="Avatar" type="file" accept="image/*" 
                class="w-full text-sm text-gray-600 file:mr-4 file:py-2 file:px-4
                       file:rounded file:border-0
                       file:text-sm file:font-semibold
                       file:bg-blue-50 file:text-blue-700
                       hover:file:bg-blue-100" />
            <span asp-validation-for="Avatar" class="text-red-600 text-sm"></span>
        </div>

        <button type="submit" 
            class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition duration-200">
            Register
        </button>

        @Html.ValidationSummary(true, "", new { @class = "text-red-600 mt-4" })
    </form>

    <div class="mt-4 text-center text-sm">
        Sudah punya akun? <a href="/Auth/Login" class="text-blue-600 hover:underline">Login</a>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
